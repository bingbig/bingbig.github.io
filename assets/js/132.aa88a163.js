(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{389:function(s,t,a){"use strict";a.r(t);var n=a(0),r=Object(n.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[s._m(0),s._v(" "),a("p",[s._v("还有一种更加完善但也更加复杂的代码生成器: PECL_Gen, 可以在PECL(http:// pecl.php.net)中找到它, 使用pear install PECL_Gen命令可以安装它.")]),s._v(" "),s._m(1),a("p",[s._v("⼀旦安装完成, 它就可以像ext_skel一样运行, 接受相同的输入参数, 产生大致相同的 输出, 或者如果提供了一个完整的xml定义文件, 则产生一个更加健壮和完整可编译版本的 扩展. PECL_Gen并不会节省你编写扩展核心功能的时间; 而是提供⼀种可选的方式高效 的生成扩展骨架代码.")]),s._v(" "),s._m(2),s._v(" "),a("p",[s._v("下面是最简单的扩展定义文件:")]),s._v(" "),s._m(3),a("p",[s._v("通过PECL_Gen命令运行这个文件:")]),s._v(" "),s._m(4),a("p",[s._v("则会产生一个名为sample9的扩展, 并暴露一个用户空间函数sample9_hello_world().")]),s._v(" "),a("p",[s._v("####关于扩展")]),s._v(" "),a("p",[s._v("除了你已经熟悉的功能文件, PECL_Gen还会产生⼀个package.xml文件 它可以用于 pear安装. 如果你计划发布包到PECL库, 或者哪怕你只是想要使用pear包系统交付内容, 有这个文件都会很有用.")]),s._v(" "),a("p",[s._v("总之, 你可以在PECL_Gen的specfile.xml中指定多数package.xml文件的元素.")]),s._v(" "),s._m(5),a("p",[s._v("当PECL_Gen创建扩展时, 这些信息将被翻译到最终的package.xml文件中. 依赖")]),s._v(" "),s._m(6),s._v(" "),a("p",[s._v('如你在第17章"配置和链接"中所见, 依赖可以扫描出来用于config.m4和config.w32文 件. PECL_Gen可以使用'),a("deps",[s._v("定义各种类型的依赖完成扫描工作. 默认情况下, 列在 "),a("deps",[s._v("标签下的依赖会同时应用到Unix和win32构建中, 除非显式的是否用platform属性 指定某个目标")])],1)],1),s._v(" "),s._m(7),s._m(8),s._v(" "),a("p",[s._v("通常, 扩展在配置时使用--enable-extname样式的配置选项. 通过增加⼀个或多个 "),a("with",[s._v("标签到"),a("deps",[s._v("块中, 则不仅配置选项被修改为--with-extname, 而且同时需要扫描 头文件:")])],1)],1),s._v(" "),s._m(9),s._m(10),s._v(" "),a("p",[s._v("必须的库也列在"),a("deps",[s._v("下, 使用"),a("lib",[s._v("标签.")])],1)],1),s._v(" "),s._m(11),a("p",[s._v("在前面两个例子中, 只是检查了库是否存在; 第三个例子中, 库将被真实的加载并扫描 以确认inflate()函数是否定义.")]),s._v(" "),a("p",[s._v("￼尽管"),a("deps",[s._v("标签实际已经命名了目标平台, 但"),a("lib",[s._v("标签也有⼀个platform属性可以覆盖 "),a("deps",[s._v("标签的platform设置. 当它们混合使用的时候要格外小心.")])],1)],1)],1),s._v(" "),s._m(12),s._v(" "),a("p",[s._v("此外, 需要包含的文件也可以通过在"),a("deps",[s._v("块中使用"),a("header",[s._v("标签在你的代码中追 加⼀个#include指令列表. 要强制某个头先包含, 可以在"),a("header",[s._v('标签上增加属性 prepend="yes". 和'),a("lib",[s._v("依赖类似, "),a("header",[s._v("也可以严格限制平台:")])])],1)])])],1),s._v(" "),s._m(13),s._m(14),s._v(" "),a("p",[s._v("用户空间常量使用"),a("constants",[s._v("块中的一个或多个"),a("constant",[s._v("标签定义. 每个标签需 要一个name和⼀个value属性, 以及⼀个值必须是int, float, string之一的type属性.")])],1)],1),s._v(" "),s._m(15),s._m(16),s._v(" "),a("p",[s._v('线程安全全局变量的定义方式几乎相同. 唯⼀的不同在于type参数需要使用C语言原 型而不是php用户空间描述. ⼀旦定义并构建, 全局变量就可以使用第12章"启动, 终止, 以 及其中的⼀些点"中学习的EXTNAME_G(global_name)的宏用法进行访问. 在这里, value属性表示变量在请求启动时的默认值. 要注意在specfile.xml中这个默认值只能指定为简单 的标量数值. 字符串和其他复杂结构应该在RINIT阶段手动设置.')]),s._v(" "),s._m(17),s._m(18),s._v(" "),a("p",[s._v("要绑定线程安全的全局变量到php.ini设置, 则需要使用"),a("phpini",[s._v("标签而不是"),a("globa",[s._v('. 这个标签需要两个额外的参数: onupdate="updatemethod"标识INI的修改应该怎样处理, access="mode"和第13章"INI设置"中介绍的模式含义相同, "mode"值可以是: all, user, perdir, system.')])],1)],1),s._v(" "),s._m(19),s._m(20),s._v(" "),a("p",[s._v("你已经看到了最基本的函数定义; 不过, "),a("function",[s._v("标签在PECL_Gen的specfile中实 际上支持两种不同类型的函数.")])],1),s._v(" "),a("p",[s._v("两个版本都支持你已经在"),a("extension",[s._v("级别上使用过的"),a("summary",[s._v("和"),a("description",[s._v("属 性; 两种类型都必须的元素是"),a("code",[s._v("标签, 它包含了将要被放入你的源代码文件中的原文C语言代码.")])])],1)])],1),s._v(" "),s._m(21),s._v(" "),a("p",[s._v("如你所想, 所有定义为public角色的函数都将包装恰当的PHP_FUNCTION()头和花括 号, 对应到扩展的函数表向量中的条目.")]),s._v(" "),a("p",[s._v("除了其他函数支持的标签, public类型还允许指定一个"),a("proto",[s._v("标签. 这个标签的格式 应该匹配php在线手册中的原型展示, 它将被文档生成器解析.")])],1),s._v(" "),s._m(22),s._m(23),s._v(" "),a("p",[s._v("内部函数涉及5个zend_module_entry函数: MINIT, MSHUTDOWN, RINIT, RSHUTDOWN, MINFO. 如果指定的名字不是这5个之一将会产生pecl-gen无法处理的错误.")]),s._v(" "),s._m(24),s._m(25),s._v(" "),s._m(26),s._v(" "),s._m(27),s._m(28),s._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"./preface.html"}},[s._v("目录")])],1),s._v(" "),a("li",[s._v("18.1 "),a("router-link",{attrs:{to:"./18.1.html"}},[s._v("ext_skel")])],1),s._v(" "),a("li",[s._v("18.3 "),a("router-link",{attrs:{to:"./18.3.html"}},[s._v("小结")])],1)])])},[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"pecl-gen"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pecl-gen","aria-hidden":"true"}},[this._v("#")]),this._v(" PECL_Gen")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[s._v("￼译者注"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" PECL_Gen已经迁移为"),a("span",{attrs:{class:"token function"}},[s._v("CodeGen_PECL")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("http"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("pear"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("package"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v(" CodeGen_PECL"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 本章涉及代码测试使用CodeGen_PECL的版本信息为"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"php 1.1.3, Copyright (c) 2003-2006 Hartmut Holzgraefe"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 如果您的环境使用有问题"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 请参考译序中译者的环境配置"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"specfile-xml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#specfile-xml","aria-hidden":"true"}},[this._v("#")]),this._v(" specfile.xml")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("?")]),s._v("xml version"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"1.0"')]),s._v(" encoding"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"utf-8"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("?")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("extension name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"sample9"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("functions"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("function name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"sample9_hello_world"')]),s._v(" role"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"public"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CDATA"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token function"}},[s._v("php_printf")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"Hello World!"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("function"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("functions"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("extension"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("译注"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 请注意"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 译者使用的原著中第一行少了后面的问号"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 导致不能使用"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 加上就OK"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[s._v("jdoe@devbox"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("jdoe"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("cvs"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("php"),a("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("src"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("ext"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("$ pecl"),a("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("gen specfile"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("?")]),s._v("xml version"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"1.0"')]),s._v(" encoding"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"UTF-8"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("?")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("extension name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"sample9"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("summary"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("Extension "),a("span",{attrs:{class:"token number"}},[s._v("9")]),s._v(" generated by PECL_Gen"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("summary"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("description"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("Another sample of PHP Extension Writing"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("description"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("maintainers"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("maintainer"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("John D"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" Bookreader"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("name"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("email"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("jdb@example"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("email"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("role"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("lead"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("role"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("maintainer"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("maintainers"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("release"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),a("span",{attrs:{class:"token number"}},[s._v("0.1")]),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("version"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("date"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),a("span",{attrs:{class:"token number"}},[s._v("2006")]),a("span",{attrs:{class:"token operator"}},[s._v("-")]),a("span",{attrs:{class:"token number"}},[s._v("01")]),a("span",{attrs:{class:"token operator"}},[s._v("-")]),a("span",{attrs:{class:"token number"}},[s._v("01")]),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("date"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("state"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("beta"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("state"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("notes"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("Initial Release"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("notes"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("release"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("extension"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 依赖")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("?")]),s._v("xml version"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"1.0"')]),s._v(" encoding"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"UTF-8"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("?")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("extension name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"sample9"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("deps platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"unix"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" UNIX specific dependencies "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("deps"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("deps platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"win32"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" Win32 specific dependencies "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("deps"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("deps platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"all"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" Dependencies that apply to all platforms "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("deps"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("extension"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"with"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#with","aria-hidden":"true"}},[this._v("#")]),this._v(" with")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("deps platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"unix"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("with defaults"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"/usr:/usr/local:/opt"')]),s._v("\n        testfile"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"include/zlib/zlib.h"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("zlib headers"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("with"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("deps"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#库","aria-hidden":"true"}},[this._v("#")]),this._v(" 库")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("deps platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"all"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("lib name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"ssleay"')]),s._v(" platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"win32"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("lib name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"crypto"')]),s._v(" platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"unix"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("lib name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"z"')]),s._v(" platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"unix"')]),s._v(" function"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"inflate"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("deps"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("header")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("deps"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("header name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"sys/types.h"')]),s._v(" platform"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"unix"')]),s._v(" prepend"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"yes"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("header name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"zlib/zlib.h"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("deps"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n译注"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 经测试"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 译者的环境"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("header"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("标签不支持platform属性"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"常量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常量","aria-hidden":"true"}},[this._v("#")]),this._v(" 常量")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("constants"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("constant name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"SAMPLE9_APINO"')]),s._v(" type"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"int"')]),s._v(" value"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"20060101"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("constant name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"SAMPLE9_VERSION"')]),s._v(" type"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"float"')]),s._v(" value"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"1.0"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("constant name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"SAMPLE9_AUTHOR"')]),s._v(" type"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"string"')]),s._v(" value"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"John Doe"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("constants"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"全局变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局变量","aria-hidden":"true"}},[this._v("#")]),this._v(" 全局变量")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[s._v("￼"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("globals"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("global name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"greeting"')]),s._v(" type"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"char *"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("global name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"greeting_was_issued"')]),s._v(" type"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"zend_bool"')]),s._v(" value"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"1"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("globals"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"ini选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ini选项","aria-hidden":"true"}},[this._v("#")]),this._v(" INI选项")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[s._v("￼￼"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("globals"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("phpini name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"mysetting"')]),s._v(" type"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"int"')]),s._v(" value"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"42"')]),s._v(" onupdate"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"OnUpdateLong"')]),s._v(" access"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"all"')]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("globals"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数","aria-hidden":"true"}},[this._v("#")]),this._v(" 函数")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"role-public"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#role-public","aria-hidden":"true"}},[this._v("#")]),this._v(' role="public"')])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("functions"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("function role"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"public"')]),s._v(" name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"sample9_greet_me"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("summary"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("Greet a person by name"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("summary"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("description"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("Accept a name parameter as a string and say hello to that person"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nReturns TRUE"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("description"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("proto"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("bool "),a("span",{attrs:{class:"token function"}},[s._v("sample9_greet_me")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("string name"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("proto"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CDATA"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{attrs:{class:"token keyword"}},[s._v("char")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v("name"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{attrs:{class:"token keyword"}},[s._v("int")]),s._v(" name_len"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token function"}},[s._v("zend_parse_parameters")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token function"}},[s._v("ZEND_NUM_ARGS")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" TSRMLS_CC"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"s"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                        "),a("span",{attrs:{class:"token operator"}},[s._v("&")]),s._v("name"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("&")]),s._v("name_len"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" FAILURE"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("return")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{attrs:{class:"token function"}},[s._v("php_printf")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"Hello "')]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{attrs:{class:"token function"}},[s._v("PHPWRITE")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name_len"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{attrs:{class:"token function"}},[s._v("php_printf")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"!\\n"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            RETURN_TRUE"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("function"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("functions"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"role-internal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#role-internal","aria-hidden":"true"}},[this._v("#")]),this._v(' role="internal"')])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("functions"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("function role"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"internal"')]),s._v(" name"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"MINFO"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CDATA"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{attrs:{class:"token function"}},[s._v("php_info_print_table_start")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{attrs:{class:"token function"}},[s._v("php_info_print_table_header")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"Column1"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"Column2"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{attrs:{class:"token function"}},[s._v("php_info_print_table_end")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("function"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("functions"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"自定义代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义代码","aria-hidden":"true"}},[this._v("#")]),this._v(" 自定义代码")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("所有其他需要存在于你的扩展中的代码都可以使用"),t("code",[this._v('标签包含. 要放置任意代码 到你的目标文件extname.c中, 使用role="code"; 或者说使用role="header"将代码放到目标 文件php_extname.h中. 默认情况下, 代码将放到代码或头文件的底部, 除非指定了 position="top"属性.')])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("code role"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"header"')]),s._v(" position"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"bottom"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CDATA"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("typedef")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" _php_sample9_data "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("long")]),s._v(" val"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" php_sample9_data"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("code role"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"code"')]),s._v(" position"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token string"}},[s._v('"top"')]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CDATA"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("static")]),s._v(" php_sample9_data "),a("span",{attrs:{class:"token operator"}},[s._v("*")]),a("span",{attrs:{class:"token function"}},[s._v("php_sample9_data_ctor")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("long")]),s._v(" value"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    php_sample9_data "),a("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v("ret"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    ret "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("emalloc")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("sizeof")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("php_sample9_data"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    ret"),a("span",{attrs:{class:"token operator"}},[s._v("->")]),s._v("val "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" value"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" ret"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("<")]),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n译注"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 译者的环境中不支持原著中"),a("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v("code"),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("标签的name属性"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"links"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#links","aria-hidden":"true"}},[this._v("#")]),this._v(" links")])}],!1,null,null,null);r.options.__file="18.2.md";t.default=r.exports}}]);