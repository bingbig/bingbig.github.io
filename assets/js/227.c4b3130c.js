(window.webpackJsonp=window.webpackJsonp||[]).push([[227],{254:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"nginx-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-配置","aria-hidden":"true"}},[t._v("#")]),t._v(" nginx 配置")]),t._v(" "),a("h3",{attrs:{id:"_1-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-location","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. location")]),t._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("location")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v('# 只匹配"/"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" configuration A "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("location")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v('# 匹配任何请求，因为所有请求都是以"/"开始')]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("# 但是更长字符匹配或者正则表达式匹配会优先匹配")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" configuration B "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("^")]),a("span",{attrs:{class:"token operator"}},[t._v("~")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("images"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("# 匹配任何以 /images/ 开始的请求，并停止匹配 其它location")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" configuration C "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("~")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gif"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("jpg"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("jpeg"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("# 匹配以 gif, jpg, or jpeg结尾的请求. ")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("# 但是所有 /images/ 目录的请求将由 [Configuration C]处理.   ")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" configuration D "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h4",{attrs:{id:"_1-1-匹配命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-匹配命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1 匹配命令")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("匹配命令")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("~")])]),t._v(" "),a("td",[t._v("表示执行一个正则匹配，区分大小写")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("^~")])]),t._v(" "),a("td",[t._v("表示普通字符匹配，如果该选项匹配，只匹配该选项，不匹配别的选项，一般用来匹配目录")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("~*")])]),t._v(" "),a("td",[t._v("表示执行一个正则匹配，不区分大小写")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("=")])]),t._v(" "),a("td",[t._v("表示普通字符精确匹配")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("@")])]),t._v(" "),a("td",[t._v("定义一个命令的location，使用在内部定向时，例如errr_page, try_files")])])])]),t._v(" "),a("h4",{attrs:{id:"_1-2-优先级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-优先级","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2 优先级")]),t._v(" "),a("p",[a("strong",[t._v("与location在配置文件中的顺序无关")])]),t._v(" "),a("ol",[a("li",[t._v("Directives with the "),a("code",[t._v("=")]),t._v(" prefix that match the query exactly. If found, searching stops.")]),t._v(" "),a("li",[t._v("All remaining directives with conventional strings, "),a("code",[t._v("longest match first")]),t._v(". If this match used the "),a("code",[t._v("^~")]),t._v(" prefix, searching stops.")]),t._v(" "),a("li",[t._v("Regular expressions, "),a("code",[t._v("in order of definition")]),t._v(" in the configuration file.")]),t._v(" "),a("li",[t._v("If "),a("code",[t._v("#3")]),t._v(" yielded a match, that result is used. Else the match from "),a("code",[t._v("#2")]),t._v(" is used.")])])])}],!1,null,null,null);e.options.__file="location.md";s.default=e.exports}}]);