(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{420:function(s,a,n){"use strict";n.r(a);var t=n(0),e=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"编译安装gcc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编译安装gcc","aria-hidden":"true"}},[s._v("#")]),s._v(" 编译安装GCC")]),s._v(" "),n("p",[s._v("过程是一条血路，结局竟是如此简单！\n"),n("strong",[s._v("不要按照我的记录安装GCC，直接看后面")])]),s._v(" "),n("h4",{attrs:{id:"背景：安装bedtools2，-结果运行的时候："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#背景：安装bedtools2，-结果运行的时候：","aria-hidden":"true"}},[s._v("#")]),s._v(" 背景：安装bedtools2， 结果运行的时候：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("./bedtools: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.11' not found (required by ./bedtools)\n./bedtools: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.9' not found (required by ./bedtools)\n./bedtools: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by ./bedtools)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ol",[n("li",[s._v("安装glibc-2.24\n"),n("ul",[n("li",[n("p",[s._v("自带gcc版本太低，更新版本："),n("code",[s._v("export PATH=/pub/CMBdell/gcc-4.7.2/bin:$PATH")])])]),s._v(" "),n("li",[n("p",[s._v("自带 运行时报错说 "),n("code",[s._v("checking LD_LIBRARY_PATH variable... contains current directory")]),s._v("， 原因是"),n("code",[s._v("LD_LIBRARY_PATH")]),s._v(" 包含空目录，比如说出现两个冒号"),n("code",[s._v("::")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("configure: error: GNU libc requires kernel header files from Linux 3.2.0 or later to be installed before configuring. The kernel header files are found usually in /usr/include/asm and /usr/include/linux; make sure these directories use files from Linux 3.2.0 or later. This check uses <linux/version.h>, so make sure that file was built correctly when installing the kernel header files. To use kernel headers not from /usr/include/linux, use the configure option --with-headers.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("放弃。。。")])])])])]),s._v(" "),n("h4",{attrs:{id:"安装gcc-4-8-5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装gcc-4-8-5","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装gcc-4.8.5")]),s._v(" "),n("pre",[n("code",[s._v("```bash\nwget http://gcc.parentingamerica.com/releases/gcc-4.8.5/gcc-4.8.5.tar.gz\n```\n")])]),s._v(" "),n("p",[n("strong",[s._v("报错，要求安装gmp，mpfr，mpc，")]),s._v("\n   \n1.1 下载安装gmp")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("\t"),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gmp-5.0.0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("1.2 安装mpfr")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("./configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpfr-3.1.5 --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gmp-5.0.0/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("1.3 安装mpc")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("./configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpc-1.0.2 --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gmp-5.0.0 --with-mpfr"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpfr-3.1.5/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("1.4 安装gcc")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("./configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.8.5 --enable-threads"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("posix --disable-checking --enable--long-long --enable-languages"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("c,c++,java --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gmp-5.0.0 --with-mpfr"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpfr-3.1.5 --with-mpc"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpc-1.0.2/\n\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("报错：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("checking for suffix of object files... configure: error: in `/pub/CMBdell/gcc-4.8.5.src/x86_64-unknown-linux-gnu/libgcc':\nconfigure: error: cannot compute suffix of object files: cannot compile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("加上变量：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("export")]),s._v(" LD_LIBRARY_PATH"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),n("span",{attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v(":/pub/CMBdell/gmp-5.0.0/lib:/pub/CMBdell/mpfr-3.1.5/lib:/pub/CMBdell/mpc-1.0.2/lib\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v(" ./configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.8.5 --enable-threads"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("posix --disable-checking --enable--long-long --enable-languages"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("c,c++,java --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gmp-5.0.0 --with-mpfr"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpfr-3.1.5 --with-mpc"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpc-1.0.2/\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("yum "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" libmpc-devel mpfr-devel gmp-devel\n\n\n"),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" ~/Downloads\n\n"),n("span",{attrs:{class:"token function"}},[s._v("curl")]),s._v(" ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.9.2/\n\ngcc-4.9.2.tar.bz2 -O\n\n"),n("span",{attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvfj gcc-4.9.2.tar.bz2\n\n"),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" gcc-4.9.2\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" build "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" build\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4 --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gmp-5.0.0 --with-mpfr"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpfr-3.1.5 --with-mpc"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpc-1.0.2 \n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" -j 8\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[n("strong",[s._v("失败了！！！")])]),s._v(" "),n("p",[s._v("####安装gcc-4.9.4")]),s._v(" "),n("p",[s._v("configure的时候没有加上："),n("code",[s._v("--enable-multiarch=no")]),s._v("，后续报错："),n("code",[s._v("error while loading shared libraries: libc.so.6: ELF file OS ABI invalid")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" -j10\n\nchecking "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" x86_64-unknown-linux-gnu-gcc"),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". /pub/CMBdell/gcc-4.9.4.src/build/./gcc/xgcc -B/pub/CMBdell/gcc-4.9.4.src/build/./gcc/ -B/pub/CMBdell/gcc-4.9.4/x86_64-unknown-linux-gnu/bin/ -B/pub/CMBdell/gcc-4.9.4/x86_64-unknown-linux-gnu/lib/ -isystem /pub/CMBdell/gcc-4.9.4/x86_64-unknown-linux-gnu/include -isystem /pub/CMBdell/gcc-4.9.4/x86_64-unknown-linux-gnu/sys-include   \nchecking "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" suffix of object files"),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". configure: error: "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{attrs:{class:"token variable"}},[n("span",{attrs:{class:"token variable"}},[s._v("`")]),s._v("/pub/CMBdell/gcc-4.9.4.src/build/x86_64-unknown-linux-gnu/libgcc':\nconfigure: error: cannot compute suffix of object files: cannot compile\nSee "),n("span",{attrs:{class:"token variable"}},[s._v("`")])]),s._v("config.log"),n("span",{attrs:{class:"token string"}},[s._v("' for more details.\nmake[2]: *** [configure-stage1-target-libgcc] Error 1\nmake[2]: Leaving directory "),n("span",{attrs:{class:"token variable"}},[n("span",{attrs:{class:"token variable"}},[s._v("`")]),s._v("/pub/CMBdell/gcc-4.9.4.src/build'\nmake"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": *** "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("stage1-bubble"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error 2\nmake"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory "),n("span",{attrs:{class:"token variable"}},[s._v("`")])]),s._v("/pub/CMBdell/gcc-4.9.4.src/build'")]),s._v("\nmake: *** "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("all"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error 2\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("查看")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("vim /pub/CMBdell/gcc-4.9.4.src/build/x86_64-unknown-linux-gnu/libgcc/config.log\n/pub/CMBdell/gcc-4.9.4.src/build/./gcc/cc1: error "),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" loading shared libraries: libmpc.so.3: cannot "),n("span",{attrs:{class:"token function"}},[s._v("open")]),s._v(" shared object file: No such "),n("span",{attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("export")]),s._v(" LD_LIBRARY_PATH"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/mpc-1.0.2/lib:/pub/CMBdell/gmp-5.0.0/lib:/pub/CMBdell/mpfr-3.1.5/lib/:"),n("span",{attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf x86_64-unknown-linux-gnu/libgcc/config.cache\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("libtool: link: ranlib .libs/libgfortran.a\nlibtool: link: "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('".libs"')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f "),n("span",{attrs:{class:"token string"}},[s._v('"libgfortran.la"')]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s "),n("span",{attrs:{class:"token string"}},[s._v('"../libgfortran.la"')]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v('"libgfortran.la"')]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmake"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("6"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory "),n("span",{attrs:{class:"token variable"}},[n("span",{attrs:{class:"token variable"}},[s._v("`")]),s._v("/pub/CMBdell/gcc-4.9.4.src/build/x86_64-unknown-linux-gnu/32/libgfortran'\nmake"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("5"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory "),n("span",{attrs:{class:"token variable"}},[s._v("`")])]),s._v("/pub/CMBdell/gcc-4.9.4.src/build/x86_64-unknown-linux-gnu/32/libgfortran"),n("span",{attrs:{class:"token string"}},[s._v("'\nmake[4]: Leaving directory "),n("span",{attrs:{class:"token variable"}},[n("span",{attrs:{class:"token variable"}},[s._v("`")]),s._v("/pub/CMBdell/gcc-4.9.4.src/build/x86_64-unknown-linux-gnu/libgfortran'\nmake"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("3"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory "),n("span",{attrs:{class:"token variable"}},[s._v("`")])]),s._v("/pub/CMBdell/gcc-4.9.4.src/build/x86_64-unknown-linux-gnu/libgfortran'")]),s._v("\nmake"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("2"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory "),n("span",{attrs:{class:"token variable"}},[n("span",{attrs:{class:"token variable"}},[s._v("`")]),s._v("/pub/CMBdell/gcc-4.9.4.src/build/x86_64-unknown-linux-gnu/libgfortran'\nmake"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory "),n("span",{attrs:{class:"token variable"}},[s._v("`")])]),s._v("/pub/CMBdell/gcc-4.9.4.src/build'\nmake: *** "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("all"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error 2\nYou have mail "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /var/spool/mail/root\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[n("strong",[s._v("omg!!!")])]),s._v(" "),n("h2",{attrs:{id:"无奈，重新编译。。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#无奈，重新编译。。","aria-hidden":"true"}},[s._v("#")]),s._v(" 无奈，重新编译。。")]),s._v(" "),n("p",[s._v("解压源文件\n"),n("code",[s._v("mv gcc-4.9.4  gcc_src")]),s._v("\n0. 依赖\n在gcc_src下执行："),n("code",[s._v("./contrib/download_prerequisites")]),s._v("下载依赖包")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" gmp\n"),n("span",{attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /pub/CMBdell/gcc-4.9.4/gmp-4.3.2\n./configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/gmp-4.3.2\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" check\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("export")]),s._v(" LD_LIBRARY_PATH"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/gmp-4.3.2/lib:"),n("span",{attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v("\n\n"),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/mpfr\n"),n("span",{attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /pub/CMBdell/gcc-4.9.4/mpfr-2.4.2\n./configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/mpfr-2.4.2 --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/gmp-4.3.2/\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" check\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("export")]),s._v(" LD_LIBRARY_PATH"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/mpfr-2.4.2/lib:"),n("span",{attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v("\n\n"),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/mpc\n"),n("span",{attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /pub/CMBdell/gcc-4.9.4/mpc-0.8.1\n./configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/mpc-0.8.1/ --with-mpfr"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/mpfr-2.4.2/ --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/gmp-4.3.2/\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" check \n"),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("export")]),s._v(" LD_LIBRARY_PATH"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/mpc-0.8.1/lib:"),n("span",{attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v("\n\n"),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" build "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" build\n "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/configure --prefix"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4 --enable-lto --with-gmp"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/gmp-4.3.2 --with-mpfr"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/mpfr-2.4.2 --with-mpc"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/pub/CMBdell/gcc-4.9.4/mpc-0.8.1/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[n("strong",[s._v("成功！！！")])]),s._v(" "),n("p",[s._v("晕！原来安装4.9.4的时候只需要"),n("code",[s._v("./contrib/download_prerequisites")]),s._v("下载三个依赖包并解压即可，在"),n("code",[s._v("config gcc")]),s._v("的时候会自动 "),n("code",[s._v("config")]),s._v(" 并编译这些包")]),s._v(" "),n("p",[n("strong",[s._v("注：需要非常长的时间（2h以上）")])]),s._v(" "),n("h2",{attrs:{id:"linux无法挂载ntfs移动硬盘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux无法挂载ntfs移动硬盘","aria-hidden":"true"}},[s._v("#")]),s._v(" Linux无法挂载ntfs移动硬盘")]),s._v(" "),n("ol",[n("li",[s._v("尝试添加163的yum源，没有作用。")]),s._v(" "),n("li",[s._v("发现没有安装gcc等，yum安装：")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("yum -y "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc automake autoconf libtool "),n("span",{attrs:{class:"token function"}},[s._v("make")]),s._v("\nrpm -Uvh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm\nyum -y "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" ntfs-3g\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"登陆时语言配置不对"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登陆时语言配置不对","aria-hidden":"true"}},[s._v("#")]),s._v(" 登陆时语言配置不对")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("please open the file "),n("code",[s._v("/etc/environment")]),s._v(" abnd add the\nlines below:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("LANG=en_US.UTF-8\nLC_ALL=en_US.UTF-8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"直接复制mysql原数据备份和恢复数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#直接复制mysql原数据备份和恢复数据库","aria-hidden":"true"}},[s._v("#")]),s._v(" 直接复制MySQL原数据备份和恢复数据库")]),s._v(" "),n("p",[s._v("修改mysql的数据存储路径，从 "),n("code",[s._v("/var/lib/mysql")]),s._v(" 迁移到 "),n("code",[s._v("/data/mysql")]),s._v(" 下。复制过去后修改拥有者为 "),n("code",[s._v("mysql:mysql")]),s._v("，但是mysql无法start。网上查和selinux有关系。")]),s._v(" "),n("ol",[n("li",[n("code",[s._v("chcon -R -t mysqld_db_t      mysql")])]),s._v(" "),n("li",[n("code",[s._v("setenforce 0     ：mysql")]),s._v("可以重启，但是 "),n("code",[s._v("setenforce 1")]),s._v(" 后还是无法重启。")])]),s._v(" "),n("p",[s._v("先启动mysql服务，之后 "),n("code",[s._v("setenforce 1")])]),s._v(" "),n("p",[n("code",[s._v("mysqldump --opt -d BindingR -u mysql -p >BindingR.sql")])]),s._v(" "),n("p",[s._v("导出表结构，不导出数据。\n之后scp复制数据库数据。重启mysql。但是，仍然需要 "),n("code",[s._v("setenforce 0")]),s._v(" 之后才能正常读取数据。")]),s._v(" "),n("p",[s._v("尝试1:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("semanage fcontext -a -t mysqld_db_t "),n("span",{attrs:{class:"token string"}},[s._v('"/data/mysql(/.*)?"')]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -i mysql /etc/selinux/targeted/contexts/files/file_contexts.local\n\nrestorecon -R -v /data/mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("try2:")]),s._v(" "),n("p",[s._v("On CentOS 6.0 with the 5.x installation of MySQL, the semanage context needs to be mysqld_safe_t, not mysqld_db_t.\nSo:\n“semanage fcontext -a -t mysqld_safe_t “/data/mysql(/."),n("em",[s._v(")?”\nInstead of:     semanage fcontext -a -t mysqld_db_t “/data/mysql(/.")]),s._v(")?”")]),s._v(" "),n("p",[s._v("还可以：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("semanage fcontext -a -e /var/lib/mysql /srv/mysql\nrestorecon -R -v /src/mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("成功解决！")]),s._v(" "),n("p",[s._v("经验：简单的问题可以直接百度，遇到难的，更专业的还是Google的结果好啊！")]),s._v(" "),n("p",[s._v("如果php或者perl不能访问mysql，将其中的host的值从 "),n("code",[s._v("localhsot")]),s._v(" 改为 "),n("code",[s._v("127.0.0.1")]),s._v("，或者 "),n("code",[s._v("localhost:/data/mysql/mysql.sock")])])])}],!1,null,null,null);e.options.__file="compile_gcc.md";a.default=e.exports}}]);