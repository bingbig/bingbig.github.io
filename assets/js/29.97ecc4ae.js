(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{345:function(s,a,t){"use strict";t.r(a);var n=t(0),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"mysql基准测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql基准测试","aria-hidden":"true"}},[s._v("#")]),s._v(" MySQL基准测试")]),s._v(" "),t("h2",{attrs:{id:"_2-4-基准测试工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-基准测试工具","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.4 基准测试工具")]),s._v(" "),t("h3",{attrs:{id:"_2-4-1-集成式测试工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-集成式测试工具","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.4.1 集成式测试工具")]),s._v(" "),t("h4",{attrs:{id:"ab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ab","aria-hidden":"true"}},[s._v("#")]),s._v(" ab")]),s._v(" "),t("p",[s._v("它可以测试HTTP服务器每秒最多可以处理多少请求。")]),s._v(" "),t("h4",{attrs:{id:"http-load"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-load","aria-hidden":"true"}},[s._v("#")]),s._v(" http_load")]),s._v(" "),t("p",[s._v("设计为对Web服务器进行测试，可以通过一个输入文件提供多个URL。")]),s._v(" "),t("h4",{attrs:{id:"jmeter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter","aria-hidden":"true"}},[s._v("#")]),s._v(" JMeter")]),s._v(" "),t("p",[s._v("是一个Java应用程序，可以加载其他应用并测试其性能。")]),s._v(" "),t("h3",{attrs:{id:"_2-4-2-单组件式测试工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-单组件式测试工具","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.4.2 单组件式测试工具")]),s._v(" "),t("h4",{attrs:{id:"mysqlslap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysqlslap","aria-hidden":"true"}},[s._v("#")]),s._v(" mysqlslap")]),s._v(" "),t("p",[s._v("可以模拟服务器的负载，并输出计时信息。测试时可以执行并发连接数，并指定SQL语句。")]),s._v(" "),t("h4",{attrs:{id:"mysql-benchmark-suite（sql-bench）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-benchmark-suite（sql-bench）","aria-hidden":"true"}},[s._v("#")]),s._v(" MySQL Benchmark Suite（sql-bench）")]),s._v(" "),t("p",[s._v("主要用于测试服务器执行查询的的速度。")]),s._v(" "),t("h4",{attrs:{id:"super-smack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#super-smack","aria-hidden":"true"}},[s._v("#")]),s._v(" Super Smack")]),s._v(" "),t("p",[s._v("可以提供压力测试和负载生成。")]),s._v(" "),t("h4",{attrs:{id:"database-test-suite"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#database-test-suite","aria-hidden":"true"}},[s._v("#")]),s._v(" Database Test Suite")]),s._v(" "),t("p",[s._v("一款类似某些工业标准测试的测试工具集。")]),s._v(" "),t("h4",{attrs:{id:"sysbench"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sysbench","aria-hidden":"true"}},[s._v("#")]),s._v(" sysbench")]),s._v(" "),t("p",[s._v("是一款多线程系统压测工具。可以根据影响数据库服务器性能的各种因素来评估系统的性能。")]),s._v(" "),t("h4",{attrs:{id:"mysql的benchmark-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql的benchmark-函数","aria-hidden":"true"}},[s._v("#")]),s._v(" MySQL的"),t("code",[s._v("BENCHMARK()")]),s._v("函数")]),s._v(" "),t("p",[s._v("Mysql有一个内置的BENCHMARK函数，可以测试某些特定操作的执行速度。例如：")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysql"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{attrs:{class:"token variable"}},[s._v("@input")]),s._v(" :"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'hello world'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nQuery OK"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("rows")]),s._v(" affected "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmysql"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" BENCHMARK"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("1000000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" MD5"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token variable"}},[s._v("@input")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token comment"}},[s._v("---------------------------------+")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" BENCHMARK"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("1000000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" MD5"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token variable"}},[s._v("@input")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token comment"}},[s._v("---------------------------------+")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("                               "),t("span",{attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token comment"}},[s._v("---------------------------------+")]),s._v("\n"),t("span",{attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("row")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("0.24")]),s._v(" sec"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmysql"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" BENCHMARK"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("1000000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" SHA1"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token variable"}},[s._v("@input")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token comment"}},[s._v("----------------------------------+")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" BENCHMARK"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("1000000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" SHA1"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token variable"}},[s._v("@input")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token comment"}},[s._v("----------------------------------+")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("                                "),t("span",{attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token comment"}},[s._v("----------------------------------+")]),s._v("\n"),t("span",{attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("row")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("0.22")]),s._v(" sec"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("虽然BENCHMARK函数用起来很方便，但是不适合用来做真正的基准测试，引用很难理解真正要测试的是什么，而且测试的只是整个执行周期中的一部分环节。")])])}],!1,null,null,null);r.options.__file="02.md";a.default=r.exports}}]);