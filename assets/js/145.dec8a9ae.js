(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{370:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),n("ul",[n("li",[n("router-link",{attrs:{to:"./preface.html"}},[t._v("ç›®å½•")])],1),t._v(" "),n("li",[t._v("2.4 "),n("router-link",{attrs:{to:"./2.4.html"}},[t._v("å˜é‡çš„å­˜å‚¨æ–¹å¼")])],1),t._v(" "),n("li",[t._v("2.6 "),n("router-link",{attrs:{to:"./2.6.html"}},[t._v("ç±»å‹è½¬æ¢")])],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"_2-5-å˜é‡çš„æ£€ç´¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-å˜é‡çš„æ£€ç´¢","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5 å˜é‡çš„æ£€ç´¢")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ç”¨æˆ·åœ¨PHPè¯­è¨€é‡Œå®šä¹‰çš„å˜é‡ï¼Œæˆ‘ä»¬èƒ½å¦åœ¨å†…æ ¸ä¸­è·å–åˆ°å‘¢ï¼Ÿ\nç­”æ¡ˆå½“ç„¶æ˜¯è‚¯å®šçš„ï¼Œä¸‹é¢æˆ‘ä»¬å°±çœ‹å¦‚ä½•é€šè¿‡"),s("code",[this._v("zend_hash_find()")]),this._v("å‡½æ•°æ¥æ‰¾åˆ°å½“å‰æŸä¸ªä½œç”¨åŸŸä¸‹ç”¨æˆ·å·²ç»å®šä¹‰å¥½çš„å˜é‡ã€‚\n"),s("code",[this._v("zend_hash_find()")]),this._v("å‡½æ•°æ˜¯å†…æ ¸æä¾›çš„æ“ä½œHashTableçš„APIä¹‹ä¸€ï¼Œå¦‚æœä½ æ²¡æœ‰æ¥è§¦è¿‡ï¼Œå¯ä»¥å…ˆè®°ä½æ€ä¹ˆä½¿ç”¨å°±å¯ä»¥äº†ã€‚")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-c line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-c"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    zval "),n("span",{attrs:{class:"token operator"}},[t._v("*")]),n("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("fooval"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("zend_hash_find")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    \t\t"),n("span",{attrs:{class:"token function"}},[t._v("EG")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("active_symbol_table"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("//è¿™ä¸ªå‚æ•°æ˜¯åœ°å€ï¼Œå¦‚æœæˆ‘ä»¬æ“ä½œå…¨å±€ä½œç”¨åŸŸï¼Œåˆ™éœ€è¦&EG(symbol_table)")]),t._v("\n    \t\t"),n("span",{attrs:{class:"token string"}},[t._v('"foo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\t"),n("span",{attrs:{class:"token keyword"}},[t._v("sizeof")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"foo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\t"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("void")]),n("span",{attrs:{class:"token operator"}},[t._v("*")]),n("span",{attrs:{class:"token operator"}},[t._v("*")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("fooval\n    \t"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" SUCCESS\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("php_printf")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"æˆåŠŸå‘ç°$foo!"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("php_printf")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"å½“å‰ä½œç”¨åŸŸä¸‹æ— æ³•å‘ç°$foo."')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\t\t\n\t\t\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("é¦–å…ˆæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œç„¶åé€šè¿‡zend_hash_findå»EG(active_symbol_table)ä½œç”¨åŸŸä¸‹å¯»æ‰¾åç§°ä¸ºfoo($foo)çš„å˜é‡ï¼Œ\nå¦‚æœæˆåŠŸæ‰¾åˆ°ï¼Œæ­¤å‡½æ•°å°†è¿”å›SUCCESSã€‚çœ‹å®Œä»£ç ï¼Œä½ è‚¯å®šæœ‰å¾ˆå¤šç–‘é—®ã€‚\nä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œ"),s("code",[this._v('sizeof("foo")')]),this._v("è¿ç®—ï¼Œfoovalæ˜æ˜æ˜¯"),s("code",[this._v("zval**")]),this._v("å‹çš„ï¼Œä¸ºä»€ä¹ˆè½¬æˆ"),s("code",[this._v("void**")]),this._v("çš„ï¼Ÿ\nè€Œä¸”ä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œ&foovalè¿ç®—ï¼Œfoovalæœ¬èº«ä¸å°±å·²ç»æ˜¯æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆäº†å—ï¼ŸğŸ˜ƒï¼Œ\nè¯¥å›ç­”çš„é—®é¢˜ç¡®å®å¾ˆå¤šï¼Œä¸è¦è¿‡äºæ‹…å¿ƒï¼Œè®©æˆ‘ä»¬å¸¦ç€è¿™äº›é—®é¢˜ç»§ç»­å¾€ä¸‹èµ°ã€‚")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("é¦–å…ˆè¦è¯´æ˜çš„æ˜¯ï¼Œå†…æ ¸å®šä¹‰HashTableè¿™ä¸ªç»“æ„ï¼Œå¹¶ä¸æ˜¯å•å•ç”¨æ¥å‚¨å­˜PHPè¯­è¨€é‡Œçš„å˜é‡çš„ï¼Œ\nå…¶å®ƒå¾ˆå¤šåœ°æ–¹éƒ½åœ¨åº”ç”¨HashTable "),n("strong",[t._v("(è¿™å°±æ˜¯ä¸ªç¥å™¨)")]),t._v("ã€‚\nä¸€ä¸ªHashTableæœ‰å¾ˆå¤šå…ƒç´ ï¼Œåœ¨å†…æ ¸é‡Œå«åšbucketã€‚ç„¶è€Œæ¯ä¸ªbucketçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œ\næ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³åœ¨bucketé‡Œå­˜å‚¨ä»»æ„æ•°æ®æ—¶ï¼Œæœ€å¥½çš„åŠæ³•ä¾¿æ˜¯ç”³è¯·ä¸€å—å†…å­˜ä¿å­˜æ•°æ®ï¼Œ\nç„¶ååœ¨bucketé‡Œä¿å­˜å®ƒçš„æŒ‡é’ˆã€‚ä»¥"),n("code",[t._v("zval *foo")]),t._v("ä¸ºä¾‹ï¼Œ\nå†…æ ¸ä¼šå…ˆç”³è¯·ä¸€å—è¶³å¤Ÿä¿å­˜æŒ‡é’ˆå†…å­˜æ¥ä¿å­˜fooï¼Œæ¯”å¦‚è¿™å—å†…å­˜çš„åœ°å€æ˜¯pï¼Œä¹Ÿå°±æ˜¯p=&fooï¼Œ\nå¹¶åœ¨bucketé‡Œä¿å­˜pï¼Œè¿™æ—¶æˆ‘ä»¬ä¾¿æ˜ç™½äº†ï¼Œpå…¶å®å°±æ˜¯"),n("code",[t._v("zval**")]),t._v("ç±»å‹çš„ã€‚\nè‡³äºbucketä¸ºä»€ä¹ˆä¿å­˜"),n("code",[t._v("zval**")]),t._v("ç±»å‹çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿å­˜"),n("code",[t._v("zval*")]),t._v("ç±»å‹çš„æŒ‡é’ˆï¼Œæˆ‘ä»¬åˆ°ä¸‹ä¸€ç« åœ¨è¯¦ç»†å™è¿°ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("æ‰€ä»¥å½“æˆ‘ä»¬å»HashTableé‡Œå¯»æ‰¾å˜é‡çš„æ—¶å€™ï¼Œå¾—åˆ°çš„å€¼å…¶å®æ˜¯ä¸€ä¸ªzvalçš„æŒ‡é’ˆã€‚\nIn order to populate that pointer into a calling function's local storage,\nthe calling function will naturally dereference the local pointer,\nresulting in a variable of indeterminate type with two levels of indirection (such as "),s("code",[this._v("void**")]),this._v(').\nKnowing that your "indeterminate type" in this case is '),s("code",[this._v("zval*")]),this._v(",\nyou can see where the type being passed into "),s("code",[this._v("zend_hash_find()")]),this._v(" will look different to the compiler,\nhaving three levels of indirection rather than two.\nThis is done on purpose here so a simple typecast is added to the function call to silence compiler warnings.")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("å¦‚æœ"),n("code",[t._v("zend_hash_find()")]),t._v("å‡½æ•°æ‰¾åˆ°äº†æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼Œå®ƒå°†è¿”å›"),n("code",[t._v("SUCCESS")]),t._v("å¸¸é‡ï¼Œ\nå¹¶æŠŠå®ƒçš„åœ°å€èµ‹ç»™æˆ‘ä»¬åœ¨è°ƒç”¨"),n("code",[t._v("zend_hash_find()")]),t._v("å‡½æ•°ä¼ é€’çš„"),n("code",[t._v("fooval")]),t._v("å‚æ•°ï¼Œ\nä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶"),n("code",[t._v("fooval")]),t._v("å°±æŒ‡å‘äº†æˆ‘ä»¬è¦æ‰¾çš„æ•°æ®ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£å®ƒä¸ä¼šå¯¹æˆ‘ä»¬"),n("code",[t._v("fooval")]),t._v("å‚æ•°åšä»»ä½•ä¿®æ”¹ï¼Œå¹¶è¿”å›"),n("code",[t._v("FAILURE")]),t._v("å¸¸é‡ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å°±å»ç¬¦å·è¡¨é‡Œæ‰¾å˜é‡è€Œè¨€ï¼Œ"),s("code",[this._v("SUCCESS")]),this._v("å’Œ"),s("code",[this._v("FAILURE")]),this._v("ä»…ä»£è¡¨è¿™ä¸ªå˜é‡æ˜¯å¦å­˜åœ¨è€Œå·²ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#links","aria-hidden":"true"}},[this._v("#")]),this._v(" links")])}],!1,null,null,null);e.options.__file="2.5.md";s.default=e.exports}}]);